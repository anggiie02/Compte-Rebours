<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compte à rebours en JavaScript</title>

    <style>
body
{
    width: 100%;
    height: 100vh;
    background-color: burlywood;
}        
h1, h2
{
    text-align: center;
    color: blueviolet;
}        
        #compte_a_rebours
{
  display: inline-block;
  width: 35em;
  height: 120px;
  position: relative;
  margin: 0 5px;
  margin-top: 2em;
  margin-bottom: 3em;
  padding-top: 2em;
  font-size: 20px;
  font-weight: bold;
  color: violet;
  text-align: center;
  background: grey;
  border: 2px solid #4b4b4b;
  border-radius: 45%;
}
    </style>
</head>
<body>
    <h1>Test d'un compte à rebours fonctionnel</h1>

    <h2>En HTML, CSS et JavaScript</h2>
    <div id="compte_a_rebours"><noscript><h3>Fin de du compte à rebours le 10 avril 2020 à 10h30.</h3></noscript></div>


    <script type="text/javascript">
		function compte_a_rebours()
		{
			var compte_a_rebours = document.getElementById("compte_a_rebours");
			var date_actuelle = new Date();
			var date_evenement = new Date("2020-04-01 10:30:30");
			var total_secondes = (date_evenement - date_actuelle) / 1000;
			var prefixe = "";
			if (total_secondes < 0)
			{
				prefixe = "Bienvenue"; 
				total_secondes = Math.abs(total_secondes); 
			}
			if (total_secondes > 0)
			{
				var jours = Math.floor(total_secondes / (60 * 60 * 24));
				var heures = Math.floor((total_secondes - (jours * 60 * 60 * 24)) / (60 * 60));
				minutes = Math.floor((total_secondes - ((jours * 60 * 60 * 24 + heures * 60 * 60))) / 60);
				secondes = Math.floor(total_secondes - ((jours * 60 * 60 * 24 + heures * 60 * 60 + minutes * 60)));
				var et = "et";
				var mot_jour = "jours,";
				var mot_heure = "heures,";
				var mot_minute = "minutes,";
				var mot_seconde = "secondes";
				if (jours == 0)
				{
					jours = '';
					mot_jour = '';
				}
				else if (jours == 1)
				{
					mot_jour = "jour,";
				}
				if (heures == 0)
				{
					heures = '';
					mot_heure = '';
				}
				else if (heures == 1)
				{
						mot_heure = "heure,";
				}
				if (minutes == 0)
				{
					minutes = '';
					mot_minute = '';
				}
				else if (minutes == 1)
				{
					mot_minute = "minute,";
				}
				if (secondes == 0)
				{
					secondes = '';
					mot_seconde = '';
					et = '';
				}
				else if (secondes == 1)
				{
					mot_seconde = "seconde";
				}
				if (minutes == 0 && heures == 0 && jours == 0)
				{
					et = "";
				}
				compte_a_rebours.innerHTML = prefixe + jours + ' ' + mot_jour + ' ' + heures + ' ' + mot_heure + ' ' + minutes + ' ' + mot_minute + ' ' + et + ' ' + secondes + ' ' + mot_seconde;
			}
			else
			{
				compte_a_rebours.innerHTML = 'Bienvenue.';
			}
			var actualisation = setTimeout("compte_a_rebours();", 1000);
		}
		compte_a_rebours();
		
		</script>
</body>
</html>




